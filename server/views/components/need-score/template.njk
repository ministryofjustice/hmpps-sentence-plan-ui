{% from "components/need-score-indicator/macro.njk" import needsScoreIndicator %}

{% if needsScore.score === '0' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-zero-of-ten' %}
{% elif needsScore.score === '1' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-one-of-ten' %}
{% elif needsScore.score === '2' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-two-of-ten' %}
{% elif needsScore.score === '3' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-three-of-ten' %}
{% elif needsScore.score === '4' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-four-of-ten' %}
{% elif needsScore.score === '5' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-five-of-ten' %}
{% elif needsScore.score === '6' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-six-of-ten' %}
{% elif needsScore.score === '7' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-seven-of-ten' %}
{% elif needsScore.score === '8' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-eight-of-ten' %}
{% elif needsScore.score === '9' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-nine-of-ten' %}
{% elif needsScore.score === '10' %}
    {% set scoreLabelClass = 'needs-score-label-wrapper needs-score-label-wrapper--position-ten-of-ten' %}
{% endif %}

{% set barTypeClass = 'needs-score-bar--small-' + needsScore.score + ' needs-score-bar--small-tenths' %}

    <div class="predictor-score govuk-body">
        <div class="needs-score-label">
            <div class="{{ scoreLabelClass }}">
                {{ needsScoreIndicator(needsScore) }}
            </div>
        </div>
        <div class="{{ barTypeClass }}">
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
            <div>
                <span></span>
            </div>
        </div>
    </div>
{#{% endif %}#}



{#{% from "components/predictor-indicator/macro.njk" import predictorIndicator %}#}

{#{% set scoreLabelClass = '' %}#}

{#{% if predictorScore.level === 'LOW' and (predictorScore.type  === 'RSR' or predictorScore.type  === 'OSP/I')%}#}
{#    {% set scoreLabelClass = 'needs-score-label-wrapper--low needs-score-label-wrapper--position-one-of-three' %}#}
{#    {% elif predictorScore.level === 'MEDIUM' and (predictorScore.type  === 'RSR' or predictorScore.type  === 'OSP/I') %}#}
{#    {% set scoreLabelClass = 'needs-score-label-wrapper--medium needs-score-label-wrapper--position-two-of-three' %}#}
{#    {% elif predictorScore.level === 'HIGH' and (predictorScore.type  === 'RSR' or predictorScore.type  === 'OSP/I') %}#}
{#    {% set scoreLabelClass = 'needs-score-label-wrapper--high needs-score-label-wrapper--position-three-of-three' %}#}
{#    {% elif predictorScore.level === 'LOW' and predictorScore.type  === 'OSP/C' %}#}
{#    {% set scoreLabelClass = 'needs-score-label-wrapper--medium needs-score-label-wrapper--position-one-of-four' %}#}
{#    {% elif predictorScore.level === 'MEDIUM' and predictorScore.type  === 'OSP/C' %}#}
{#    {% set scoreLabelClass = 'needs-score-label-wrapper--medium needs-score-label-wrapper--position-two-of-four' %}#}
{#    {% elif predictorScore.level === 'HIGH' and predictorScore.type  === 'OSP/C' %}#}
{#    {% set scoreLabelClass = 'needs-score-label-wrapper--high needs-score-label-wrapper--position-three-of-four' %}#}
{#    {% elif predictorScore.level === 'VERY HIGH' and predictorScore.type  === 'OSP/C' %}#}
{#    {% set scoreLabelClass = 'needs-score-label-wrapper--very-high needs-score-label-wrapper--position-four-of-four' %}#}
{#{% endif %}#}

{#{% set barTypeClass = '' %}#}

{#{% switch predictorScore.type %}#}
{#{% case 'RSR' %}#}
{#    {% set barTypeClass = 'needs-score-bar'%}#}
{#    {% set showScore = true %}#}
{#{% case 'OSP/I' %}#}
{#    {% set barTypeClass = 'needs-score-bar--small'%}#}
{#    {% set showScore = false %}#}
{#{% case 'OSP/C' %}#}
{#    {% set barTypeClass = 'needs-score-bar--small needs-score-bar--small-fourths' %}#}
{#    {% set showScore = false %}#}
{#{% endswitch %}#}

{#{% if predictorScore.level === 'NOT_APPLICABLE' %}#}
{#    <div class="predictor-score govuk-body">#}
{#        <p class="govuk-body">No relevant sexual offences</p>#}
{#    </div>#}
{#{% else %}#}
{#    <div class="predictor-score govuk-body">#}
{#        <div class="needs-score-label">#}
{#            <div class="{{ scoreLabelClass }}">#}
{#                {{ predictorIndicator(predictorScore, showScore) }}#}
{#            </div>#}
{#        </div>#}
{#        <div class="{{ barTypeClass }}">#}
{#            <div>#}
{#                <span></span>#}
{#            </div>#}
{#            <div>#}
{#                <span></span>#}
{#            </div>#}
{#            <div>#}
{#                <span></span>#}
{#            </div>#}
{#            {% if predictorScore.type === 'OSP/C' %}#}
{#                <div>#}
{#                    <span></span>#}
{#                </div>#}
{#            {% endif %}#}
{#        </div>#}
{#    </div>#}
{#{% endif %}#}